# 影子分身 - Shadow Splitter

一个创新的2D网页平台跳跃游戏，玩家可以创建自己的影子分身，分身会延迟模仿玩家的所有动作。通过本体和分身的协作来解决谜题、击败敌人、完成关卡。

![游戏截图](https://via.placeholder.com/800x450/87CEEB/000000?text=Shadow+Splitter+Game)

## 🎮 游戏特色

### 核心机制
- **影子分身系统**：创建会延迟1.5秒模仿你动作的分身
- **协作解谜**：需要本体和分身同时配合才能完成的挑战
- **敌人类型限制**：不同敌人只能被特定角色击败
- **实时物理引擎**：流畅的跳跃、射击和碰撞检测

### 视觉效果
- **全屏响应式设计**：适配各种屏幕尺寸
- **动态星空背景**：闪烁的星星和渐变背景
- **粒子特效**：击败敌人时的爆炸效果
- **发光UI界面**：科幻风格的用户界面
- **平滑动画**：角色移动和环境互动的流畅动画

## 🕹️ 游戏操作

| 按键 | 功能 |
|------|------|
| `WASD` 或 `方向键` | 移动和跳跃 |
| `空格键` | 射击 |
| `Q` | 创建/销毁影子分身 |
| `ESC` | 暂停/继续游戏 |
| `R` | 重新开始游戏（胜利界面） |

## 🎯 游戏玩法

### 基本规则
1. **移动控制**：使用WASD或方向键控制角色移动和跳跃
2. **射击系统**：空格键射击，有冷却时间限制
3. **分身机制**：按Q键创建分身，分身会延迟模仿你的所有动作
4. **敌人类型**：
   - 🔴 **普通敌人（N）**：只能被本体击败
   - 🟣 **影子敌人（S）**：只能被分身击败
   - 🟠 **Boss敌人**：可以被任何角色击败，但有多个生命值

### 收集系统
- 🪙 **金币**：每个价值50分
- 🗝️ **钥匙**：每个价值200分
- 🎯 **关卡完成奖励**：1000分

## 🏆 关卡设计

游戏包含5个精心设计的关卡，难度逐步递增：

### 关卡 1：基础训练
- **目标**：学习基本操作和影子分身机制
- **敌人**：2个（1个普通，1个影子）
- **收集品**：2个金币
- **特色**：简单的平台布局，适合新手

### 关卡 2：协作挑战
- **目标**：需要本体和分身配合
- **敌人**：4个（2个普通，2个影子）
- **收集品**：4个金币
- **特色**：分离的平台，需要同时控制两个角色

### 关卡 3：垂直挑战
- **目标**：考验跳跃和射击技巧
- **敌人**：5个混合类型
- **收集品**：4个金币 + 1个钥匙
- **特色**：垂直布局，需要精确的跳跃时机

### 关卡 4：影子迷宫
- **目标**：复杂地形中的战斗
- **敌人**：8个各种类型
- **收集品**：6个金币 + 1个钥匙
- **特色**：迷宫式布局，考验策略规划

### 关卡 5：最终对决
- **目标**：与强大的Boss战斗
- **敌人**：6个普通敌人 + 1个Boss
- **收集品**：4个金币 + 2个钥匙
- **特色**：Boss具有特殊AI和攻击模式

## 🛠️ 技术实现

### 前端技术栈
- **HTML5 Canvas**：游戏渲染引擎
- **原生JavaScript**：游戏逻辑和物理引擎
- **CSS3**：UI样式和动画效果
- **Web Fonts**：Orbitron字体增强视觉效果

### 核心系统

#### 物理引擎
```javascript
// 重力系统
entity.vy += this.gravity;

// 摩擦力
entity.vx *= this.friction;

// 碰撞检测
if (this.checkCollision(entity, platform)) {
    // 处理碰撞响应
}
```

#### 影子分身系统
```javascript
// 记录玩家动作
recordAction(type, data) {
    this.shadowActions.push({
        type: type,
        data: data,
        frame: this.actionFrame
    });
}

// 分身延迟执行
const targetFrame = this.actionFrame - this.shadowDelay;
const actions = this.shadowActions.filter(action => action.frame === targetFrame);
```

#### 关卡系统
- **相对坐标系统**：使用0-1的相对坐标，自动适配不同屏幕尺寸
- **动态加载**：根据关卡配置动态生成平台、敌人和收集品
- **进度管理**：自动检测关卡完成条件和游戏胜利

## 📁 项目结构

```
web-2d-games/
├── index.html              # 主页面文件
├── test.html              # 测试页面
├── README.md              # 项目文档
├── js/
│   ├── game.js           # 主游戏逻辑
│   ├── core/
│   │   └── GameEngine.js # 游戏引擎核心（模块化版本）
│   ├── entities/
│   │   ├── Player.js     # 玩家实体类
│   │   └── Enemy.js      # 敌人实体类
│   └── utils/
│       └── SoundManager.js # 音效管理器
```

## 🚀 快速开始

### 本地运行
1. 克隆或下载项目文件
2. 使用现代浏览器打开 `index.html`
3. 等待加载完成后开始游戏

### 在线体验
直接在支持HTML5的现代浏览器中打开项目文件即可，无需额外安装。

### 系统要求
- **浏览器**：Chrome 60+, Firefox 55+, Safari 12+, Edge 79+
- **JavaScript**：必须启用
- **屏幕分辨率**：最低 800x600，推荐 1920x1080
- **输入设备**：键盘（必需）

## 🎨 设计理念

### 视觉设计
- **科幻主题**：使用蓝色和紫色调营造未来感
- **对比鲜明**：本体（蓝色）vs 分身（半透明紫色）
- **直观标识**：敌人类型用字母标记（N/S/BOSS）
- **动态效果**：浮动的收集品、闪烁的UI元素

### 游戏性设计
- **渐进式学习**：从简单操作到复杂协作
- **策略深度**：需要提前规划分身的行动路径
- **即时反馈**：清晰的视觉和音效反馈
- **重玩价值**：挑战更高分数和更快通关时间

## 🔧 自定义和扩展

### 添加新关卡
在 `createLevelConfigs()` 方法中添加新的关卡配置：

```javascript
{
    name: "新关卡名称",
    description: "关卡描述",
    platforms: [
        { x: 0, y: 0.9, width: 1, height: 0.1 }
        // 更多平台...
    ],
    enemies: [
        { x: 0.5, y: 0.8, type: 'normal' }
        // 更多敌人...
    ],
    collectibles: [
        { x: 0.3, y: 0.7, type: 'coin' }
        // 更多收集品...
    ]
}
```

### 调整游戏参数
修改构造函数中的物理常量：

```javascript
this.gravity = 0.6;        // 重力强度
this.friction = 0.85;      // 摩擦系数
this.jumpPower = 16;       // 跳跃力度
this.shadowDelay = 90;     // 分身延迟（帧数）
```

## 🐛 已知问题和限制

### 当前限制
- 音效系统使用Web Audio API生成简单音调
- 移动设备支持有限（需要物理键盘）
- 浏览器兼容性依赖Canvas和ES6支持

### 未来改进计划
- [ ] 添加音效和背景音乐
- [ ] 移动设备触控支持
- [ ] 更多关卡和敌人类型
- [ ] 本地存储高分记录
- [ ] 多人合作模式
- [ ] 关卡编辑器

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 🤝 贡献

欢迎提交问题报告、功能请求或代码贡献！

### 贡献指南
1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- 项目Issues：[GitHub Issues](https://github.com/your-username/shadow-splitter/issues)
- 邮箱：your-email@example.com

---

**享受游戏，掌握影子分身的艺术！** 🌟